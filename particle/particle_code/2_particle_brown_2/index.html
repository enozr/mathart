<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title id="title">粒子基础</title>
  <style>
  #canvas,#container,html,body {
     padding: 0;
     margin: 0;
     width: 100%;
     height: 100%;
     top: 0;
     left: 0;
     text-align: center;
      }
 </style>
</head>
</body>
<div id="container"></div>
<script type="text/javascript" src="./particle.js"></script>
<script>

//创建画布，每个案例都差不多
var container = document.getElementById('container');//取得放置canvas画板的容器
var canvas = document.createElement('canvas');//创建canvas画布
var width = canvas.width = container.offsetWidth;//把容器的宽度赋予画布
var height = canvas.height = container.offsetHeight;//把容器的高度赋予画布
container.appendChild(canvas);//把画布放入容器
var ctx = canvas.getContext('2d');

var particles = [];
function init(){
  for(var i = 0; i< 300; i++){
    var x = width * Math.random();//随机的x方向速度
    var y = height * Math.random();//随机的y方向速度
    var particle = new Particle(ctx, x, y);//创建粒子对象
    particles.push(particle);//将粒子加入列表
  }
}
function loop(){
  // ctx.clearRect(0,0,width,height);//记得注释掉这行
  for(var i = 0; i< 300; i++){
    var particle = particles[i];
    particle.update();//更新粒子位置
    particle.render();//更新粒子位置
  }
  window.requestAnimationFrame(loop);
}

init();
loop();

</script>
</body>
</html>
